<!DOCTYPE html>
<html>
	<head>
		<title>JeTuIlNousVousIls</title>
	</head>

	<body>
		<input type="text" id="verbInput" value="manger" />
		<button onclick="search()">Rechercher</button>

		<h1 id="verbLabel"></h1>
	</body>
</html>

<script src="js/Conjugation.js"></script>
<script src="js/Tense.js"></script>
<script>
	var tenses = [];

	function search() {
		const verb = document.getElementById('verbInput').value;

		fetch('/' + verb).then(function(response) {
			response.json().then(function(json) {
				const tensesJson = json.response.tenses;
				document.getElementById('verbLabel').textContent = json.response.verb;

				for (const tenseName of Object.keys(tensesJson)) {
					const h2 = document.createElement('h2');
					const table = document.createElement('table');

					const tense = new Tense(tenseName, tensesJson[tenseName]);
					document.body.appendChild(tense.getElement());

					tenses.push(tense);
				}
			});
		})
	}

	function updateScore() {
		for (const tense of tenses) {
			console.log(tense.name + " => " + tense.getNumberOfCorrect());
		}
	}
	
</script>